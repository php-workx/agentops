# Claude Code - Universal Configuration (vibe-kit template)

**User-level configuration for ALL Claude Code sessions.**

Adapt this template for your own workflow. The core principle: stay under 40% context utilization.

---

## The 40% Rule

**Never exceed 40% context utilization.** This is the most important rule.

- Below 40% → 98% success rate
- Above 60% → 24% success rate
- Above 40%, the model doesn't degrade. It lies.

---

## Session Protocol

### Starting Work

```bash
cd ~/your/project
claude
```

**On session start:**
1. Check what's ready: `bd ready`
2. Claim work: `bd update <id> --status=in_progress`
3. Execute

### Ending Work (MANDATORY)

```bash
/retro         # Extract learnings (if significant work)
bd sync        # Sync beads
git add <files>
git commit -m "type(scope): description"
git push       # NEVER stop before pushing
```

**Never say "done" without pushing.** Work that isn't pushed didn't happen.

---

## Core Commands

| Command | Purpose |
|---------|---------|
| `/research <topic>` | Deep codebase exploration → `.agents/research/` |
| `/crank` | Autonomous epic execution - runs until done |
| `/implement` | Execute single issue |
| `/retro [topic]` | Extract learnings → `.agents/retros/` |
| `/plan <goal>` | Create implementation plan |
| `/vibe` | Semantic validation |
| `/doc` | Generate documentation |
| `/status` | Quick status check |

---

## Core Skills

Auto-triggered by phrases. No explicit invocation needed.

| Skill | Triggers On |
|-------|-------------|
| `beads` | "what's ready", "create task", "show blockers" |
| `sk-research` | "research this", "explore the codebase" |
| `sk-implement` | "implement this", "work on task" |
| `sk-vibe` | "validate code", "run vibe check" |

---

## Domain Expert Agents

For parallel specialist review before merge:

| Agent | Purpose |
|-------|---------|
| `security-expert` | OWASP Top 10, vulnerability assessment |
| `architecture-expert` | System design, cross-cutting concerns |
| `code-quality-expert` | Complexity, patterns, maintainability |
| `ux-expert` | Accessibility, user-facing |

---

## Philosophy

- **Simple beats clever.** Complexity is where tokens go to die.
- **Skills replaced most agents.** Auto-trigger beats explicit invocation.
- **Consolidation is ongoing.** Archive what you don't use.

---

## Customization

Add your own sections:
- Model routing rules (when to use Opus vs Haiku vs Sonnet)
- Project-specific workflows
- Team conventions

Keep it under 500 lines. Anything longer and you're wasting context.

---

*Based on [12-Factor AgentOps](https://12factoragentops.com)*
